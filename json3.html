<!DOCTYPE html>
<html>
<head>
    <title>Filter Products by Category</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
    <h2>Filter Products</h2>
    <form id="filterForm">
        <label for="categoryDropdown">Select a Category:</label>
        <select id="categoryDropdown"></select>
        <button type="button" id="filterButton">Filter</button>
    </form>
    <div id="result"></div>

    <script>
        $(document).ready(function() {
            let productData = null;

            $.get('products.json')
                .done(function(data) {
                    productData = data;
                    populateCategoryDropdown(data);
                })
                .fail(function() {
                    console.error('Error getting data.');
                });

            function populateCategoryDropdown(data) {
                const categoryDropdown = $('#categoryDropdown');
                const uniqueCategories = {};

                data.products.forEach(product => {
                    product.categories.forEach(category => {
                        uniqueCategories[category] = true;
                    });
                });

                for (const category in uniqueCategories) {
                    categoryDropdown.append(createCategoryOption(category));
                }
            }

            function createCategoryOption(category) {
                return $('<option>', {
                    value: category,
                    text: category
                });
            }

            $('#filterButton').click(function() {
                const selectedCategory = $('#categoryDropdown').val();
                const filteredProducts = filterProductsByCategory(productData, selectedCategory);
                displayFilteredProducts(filteredProducts);
            });

            function filterProductsByCategory(data, category) {
                return data.products.filter(product => product.categories.includes(category));
            }

            function displayFilteredProducts(filteredProducts) {
                const result = $('#result');
                result.empty();

                filteredProducts.forEach(product => {
                    result.append(createParagraphElement(product.name));
                });
            }

            function createParagraphElement(text) {
                return $('<p>').text(text);
            }
        });
    </script>
</body>
</html>

  
